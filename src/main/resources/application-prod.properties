# ==================== PRODUCTION PROFILE ====================
# This file overrides application.properties for production deployments

# === Vault: fail-fast in production (secrets MUST load) ===
spring.config.import=optional:vault://
spring.cloud.vault.enabled=true
spring.cloud.vault.fail-fast=true

# Swagger/OpenAPI — forcefully disabled in production (cannot be overridden by env var)
springdoc.swagger-ui.enabled=false
springdoc.api-docs.enabled=false

# Logging — reduce verbosity in production, but keep controller/service DEBUG for observability
logging.level.root=WARN
logging.level.dev.catananti=INFO
logging.level.dev.catananti.controller=DEBUG
logging.level.dev.catananti.service=DEBUG
logging.level.dev.catananti.config.SecurityConfig=INFO

# Cookie security — always true in production
jwt.cookie.secure=true

# HSTS — enabled in production
security.hsts.enabled=true

# ==================== Datadog APM & Metrics ====================
management.datadog.metrics.export.enabled=${DD_METRICS_ENABLED:true}
management.datadog.metrics.export.api-key=${DD_API_KEY:${datadog.api-key:}}
management.datadog.metrics.export.uri=${DD_METRICS_URI:https://api.us5.datadoghq.com}
management.datadog.metrics.export.step=30s
